angular.module("angularResizable",[]).directive("resizable",function(){function e(e){void 0===t?(t=e,setTimeout(function(){t(),t=void 0},100)):t=e}var t;return{restrict:"AE",scope:{rDirections:"=",rCenteredX:"=",rCenteredY:"=",rWidth:"=",rHeight:"=",rFlex:"=",rGrabber:"@",rDisabled:"@",rContainer:"@"},link:function(t,r,n){var i="flexBasis"in document.documentElement.style?"flexBasis":"webkitFlexBasis"in document.documentElement.style?"webkitFlexBasis":"msFlexPreferredSize"in document.documentElement.style?"msFlexPreferredSize":"flexBasis";t.$watch("rWidth",function(e){r[0].style[t.rFlex?i:"width"]=t.rWidth+"px"}),t.$watch("rHeight",function(e){r[0].style[t.rFlex?i:"height"]=t.rHeight+"px"}),r.addClass("resizable");var a,s,l,o,u,d=window.getComputedStyle(r[0],null),c=t.rDirections,m=t.rCenteredX?2:1,h=t.rCenteredY?2:1,p=t.rGrabber?t.rGrabber:"<span></span>",g={},x=function(e){g.width=!1,g.height=!1,"x"===u?g.width=parseInt(r[0].style[t.rFlex?i:"width"]):g.height=parseInt(r[0].style[t.rFlex?i:"height"]),g.id=r[0].id,g.evt=e},f=function(n){var d,c="x"===u?l-n.clientX:l-n.clientY;switch(o){case"top":d=t.rFlex?i:"height",r[0].style[d]=s+c*h+"px";break;case"bottom":d=t.rFlex?i:"height",r[0].style[d]=s-c*h+"px";break;case"right":d=t.rFlex?i:"width",r[0].style[d]=a-c*m+"px";break;case"left":d=t.rFlex?i:"width",r[0].style[d]=a+c*m+"px"}x(n),e(function(){t.$emit("angular-resizable.resizing",g)})},b=function(e){x(),t.$emit("angular-resizable.resizeEnd",g),t.$apply(),document.removeEventListener("mouseup",b,!1),document.removeEventListener("mousemove",f,!1),r.removeClass("no-transition")},v=function(e,n){o=n,u="left"===o||"right"===o?"x":"y",l="x"===u?e.clientX:e.clientY,a=parseInt(d.getPropertyValue("width")),s=parseInt(d.getPropertyValue("height")),r.addClass("no-transition"),document.addEventListener("mouseup",b,!1),document.addEventListener("mousemove",f,!1),e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,e.returnValue=!1,x(e),t.$emit("angular-resizable.resizeStart",g),t.$apply()};c.forEach(function(e){var n,i=document.createElement("div");n=t.rContainer?angular.element(document.querySelector(t.rContainer)):r,i.setAttribute("class","rg-"+e),i.innerHTML=p,n.append(i),i.ondragstart=function(){return!1},i.addEventListener("mousedown",function(r){var n="true"===t.rDisabled;n||1!==r.which||v(r,e)},!1)})}}});